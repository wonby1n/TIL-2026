# Heartbeat와 Ping‑Pong 차이 정리

## 1. 개념 한 줄 요약

* **Heartbeat**: "나 살아있다"를 주기적으로 알리는 **단방향 생존 신호**
* **Ping‑Pong**: "잘 들리나?"를 확인하는 **양방향 요청‑응답 통신**

---

## 2. Heartbeat란?

### 정의

Heartbeat는 시스템 또는 장치가 **정상 동작 중임을 주기적으로 알리는 신호**이다.

### 핵심 특징

* **단방향 통신**
* **응답 불필요**
* 신호가 **끊기면 장애로 판단**
* 구조가 단순하고 네트워크 부하가 낮음

### 주 사용 목적

* 시스템 생존 여부 확인
* 장애 감지(Failover 트리거)

### 활용 사례

* 서버 클러스터 상태 점검
* IoT / 센서 상태 모니터링
* 마이크로서비스 헬스 체크

### 예시

* IoT 센서가 10초마다 서버에 Heartbeat 전송
* 서버는 일정 시간 수신이 없으면 장애로 간주

---

## 3. Ping‑Pong이란?

### 정의

Ping‑Pong은 **요청(Ping) → 응답(Pong)** 구조로 연결 상태를 확인하는 통신 방식이다.

### 핵심 특징

* **양방향 통신**
* **응답 필수**
* 왕복 시간(RTT)을 통해 **지연 시간(Latency) 측정 가능**
* Heartbeat보다 구현과 자원 소모가 큼

### 주 사용 목적

* 연결 유지 여부 확인
* 네트워크 품질 및 지연 시간 측정

### 활용 사례

* WebSocket 연결 유지
* TCP/IP 네트워크 점검(ping 명령)
* 온라인 게임, 실시간 스트리밍

### 예시

* 클라이언트가 Ping 전송 → 서버가 Pong 응답
* 응답 시간으로 네트워크 상태 판단

---

## 4. Heartbeat vs Ping‑Pong 비교 표

| 구분       | Heartbeat  | Ping‑Pong     |
| -------- | ---------- | ------------- |
| 통신 방향    | 단방향        | 양방향           |
| 구조       | 주기적 신호 전송  | 요청‑응답         |
| 응답 필요    | 필요 없음      | 반드시 필요        |
| 주요 목적    | 생존 / 상태 확인 | 연결 확인 / 성능 측정 |
| 지연 시간 측정 | 불가능        | 가능            |
| 네트워크 부하  | 낮음         | 상대적으로 높음      |
| 구현 난이도   | 낮음         | 중간~높음         |
| 대표 사용처   | 클러스터, IoT  | WebSocket, 게임 |

---

## 5. 언제 무엇을 써야 할까?

### Heartbeat가 적합한 경우

* "살아있는지만 알면 되는 경우"
* 장애 감지가 목적일 때
* 대규모 시스템에서 **부하를 최소화**해야 할 때

### Ping‑Pong이 적합한 경우

* 실시간 통신 품질이 중요한 경우
* 연결이 끊어졌는지 **즉시 확인**해야 할 때
* 지연 시간, 네트워크 품질이 중요한 서비스

---

## 6. 실생활 비유

* **Heartbeat**: 심박수 체크 → 멈추면 위험
* **Ping‑Pong**: "여보세요?" → "네, 들려요" 확인

---

## 7. 핵심 정리

* Heartbeat는 **가볍고 단순한 생존 신호**
* Ping‑Pong은 **정확하지만 비용이 있는 연결 확인 방식**
* 시스템 목적에 따라 **둘을 병행**하기도 함

> 안정적인 시스템 설계의 핵심은 상황에 맞는 선택이다.